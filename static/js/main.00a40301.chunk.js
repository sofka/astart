(this.webpackJsonpastart=this.webpackJsonpastart||[]).push([[0],{14:function(e,t,s){e.exports={footer:"style_footer__pvOGG",footer__sale:"style_footer__sale__5RHa7",footer__sum:"style_footer__sum__XIO2K",footer__add:"style_footer__add__1_K2l"}},15:function(e,t,s){e.exports={form__h2:"style_form__h2__1qBsn",form__name:"style_form__name__2GRhk"}},23:function(e,t,s){e.exports={container:"style_container__1jBAz",list:"style_list__3sW_h"}},28:function(e,t,s){e.exports={slider:"style_slider__1S5XH"}},31:function(e,t,s){e.exports={list:"style_list__2Z25Q"}},40:function(e,t,s){},46:function(e,t,s){"use strict";s.r(t);var c=s(0),r=s.n(c),n=s(16),a=s.n(n),i=s(7),o=s(32),_=(s(40),s(27)),l=s(1),d=function(){return Object(l.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABISURBVHgB7dUxDoAwDATBg49HvDwgXhCncBHNSFfb3SYAAMDhxrfZtJGCKzUzvZb/u1PzpE/nLeBUOrJJRwB+OrJJRwAAALq8Hm5WvKoM7eoAAAAASUVORK5CYII=",alt:"burger"})},j=s(28),m=s.n(j),u=function(){return Object(l.jsx)("div",{className:m.a.slider,children:Object(l.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAICAYAAABUHMdEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACTSURBVHgB3ZSxDcMgEAD/QYBw6zbZIbNQpCWDpMwgoU0kVkmGcOvWQhTgf8mFV3hOQkDH6QAEIqU0O+ciLa80JhAEIv5KKd8Y44qHyBOESZwhoY2EXsp7fwfBIkzvfTLGPFRr7QYDoLW+KE4EA8B1FM0LjMFf0V17S6/D57fWfpA3Oee51sofgaj3c0RYOEgIYd0B4c4qVf8h070AAAAASUVORK5CYII=",alt:"slider"})})},A=s(12),b=s(13),O=s.n(b);function f(e){if(!e||!e.goods)return 0;var t,s=(t=e.goods)?t.reduce((function(e,t){return e+t.count*t.price}),0):0;return Math.round(s-s*(e.sale/100))}function h(e){var t=O()(new Date).format("DD.MM.YYYY");if(!e)return t;var s=O()(e.date).format("DD.MM.YYYY h:mm"),c=O()(e.date).format("h:mm"),r=O()(e.date).format("DD.MM.YYYY");return r=r===t?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f ".concat(c):s}var x=s(5),p=s.n(x),v=s(19),N=s.n(v),g=function(e){var t,s=e.order,c=e.selectOrder,r=(t=s.goods)?t.reduce((function(e,t){return e+t.count}),0):0,n=function(e){return e?Object(A.a)(e.map((function(e){return e.name}))).length:0}(s.goods),a=f(s),i=h(s);return Object(l.jsxs)("li",{className:p.a.item,onClick:function(){return c(s)},children:[Object(l.jsxs)("div",{className:p.a.item__block,children:[Object(l.jsxs)("div",{className:p.a.item__header,children:[Object(l.jsxs)("span",{className:p.a.item__num,children:["\u0417\u0430\u043a\u0430\u0437 \u2116",s.number]}),Object(l.jsxs)("span",{className:p.a.item__price,children:[a,"P"]})]}),Object(l.jsx)("div",{className:p.a.item__date,children:i})]}),Object(l.jsxs)("ul",{className:N()(p.a.item__block,p.a.item__block_bottom),children:[Object(l.jsx)("li",{children:Object(l.jsxs)("span",{children:["\u0442\u043e\u0432\u0430\u0440\u043e\u0432 ",r]})}),Object(l.jsx)("li",{children:Object(l.jsxs)("span",{children:["\u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0439 ",n]})})]})]},s.id)},y=s(23),Y=s.n(y),B=function(e){var t=e.orders,s=e.selectOrder;return Object(l.jsx)("div",{className:Y.a.container,children:Object(l.jsx)("ul",{className:Y.a.list,children:t.map((function(e){return Object(l.jsx)(g,{order:e,selectOrder:s})}))})})},w=s(24),D=s.n(w),k=s(29),E=s(20),M=Object(E.b)({name:"orders",initialState:[],reducers:{fetchOrders:function(e,t){return t.payload}}}),S=M.actions.fetchOrders,U=function(e){return e.orders},C=M.reducer,I=s.p+"static/media/filter.322691e3.svg",Q=s(30),R=s(14),K=s.n(R),V=function(e){var t=e.sale,s=e.sum;return Object(l.jsxs)("div",{className:K.a.footer,children:[Object(l.jsxs)("div",{className:K.a.footer__sale,children:["\u0421\u043a\u0438\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0430 ",t," %"]}),Object(l.jsxs)("div",{className:K.a.footer__sum,children:["\u0418\u0422\u041e\u0413\u041e: ",s]}),Object(l.jsx)("div",{className:K.a.footer__add,children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0430\u0437\u0430 10 \u0434\u043d\u0435\u0439 \u0441 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u044b"})]})},W=s(6),H=s.n(W),X=function(e){var t=e.order,s=e.isOpen,r=e.closeModal,n=e.children,a=Object(c.useRef)(null),i=t&&h(t),o=t&&f(t);return Object(l.jsx)("div",{className:N()(H.a.root,Object(Q.a)({},H.a.open,s)),onClick:function(e){},children:Object(l.jsxs)("div",{ref:a,className:H.a.modal,children:[Object(l.jsxs)("div",{className:H.a.head,children:[Object(l.jsxs)("span",{children:["\u0417\u0430\u043a\u0430\u0437 \u2116 ",t&&t.number]}),Object(l.jsx)("button",{type:"button",className:H.a.btnClose,onClick:function(){r()}})]}),Object(l.jsx)("div",{className:H.a.date,children:i}),Object(l.jsxs)("div",{className:H.a.content,children:[n,Object(l.jsx)(V,{sale:(null===t||void 0===t?void 0:t.sale)||0,sum:o||0})]})]})})},G=s(8),L=s.n(G),F=function(e){var t=e.good;return Object(l.jsx)("li",{className:L.a.item,children:Object(l.jsxs)("div",{className:L.a.item__wrapper,children:[Object(l.jsxs)("div",{className:L.a.item__block,children:[Object(l.jsx)("div",{className:L.a.item__name,children:t.name}),Object(l.jsxs)("div",{className:L.a.item__count,children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ",t.count," \u0448\u0442. "]})]}),Object(l.jsxs)("div",{className:L.a.item__price,children:[t.price," \u0420"]})]})},t.id)},J=s(31),T=s.n(J),Z=function(e){var t=e.goods;return Object(l.jsx)("ul",{className:T.a.list,children:t.map((function(e){return Object(l.jsx)(F,{good:e})}))})},q=s(15),z=s.n(q),P=function(e){var t=e.order;return t?Object(l.jsxs)("form",{className:z.a.form,children:[Object(l.jsxs)("div",{className:z.a.form__def,children:[Object(l.jsx)("h2",{className:z.a.form__h2,children:"\u0422\u043e\u0432\u0430\u0440"}),Object(l.jsx)("span",{className:z.a.form__name,children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"})]}),Object(l.jsx)(Z,{goods:t.goods})]}):Object(l.jsx)("h1",{children:"\u0422\u0430\u043a\u043e\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"})},$=function(){var e=Object(i.b)(),t=Object(i.c)(U);Object(c.useEffect)((function(){e(function(){var e=Object(k.a)(D.a.mark((function e(t){var s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://u38027.netangels.ru/api/orders.php",{}).then((function(e){return e.json()}));case 2:s=e.sent,s=[].concat(Object(A.a)(s),Object(A.a)(s)),t(S(s));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var s=Object(c.useState)(!1),n=Object(_.a)(s,2),a=n[0],o=n[1],j=Object(c.useState)(null),m=Object(_.a)(j,2),b=m[0],O=m[1];return Object(l.jsxs)(r.a.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(u,{}),Object(l.jsxs)("div",{className:"orders",children:[Object(l.jsxs)("div",{className:"orders__header",children:[Object(l.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(l.jsx)("img",{src:I,alt:"filter"})]}),Object(l.jsx)(B,{orders:t,selectOrder:function(e){o(!0),O(e)}}),Object(l.jsx)(X,{isOpen:a,closeModal:function(){o(!1)},order:b,children:Object(l.jsx)(P,{order:b})})]}),Object(l.jsx)("footer",{className:"footer"})]})},ee=Object(E.a)({reducer:{orders:C}});a.a.render(Object(l.jsx)(i.a,{store:ee,children:Object(l.jsx)(o.a,{children:Object(l.jsx)($,{})})}),document.getElementById("root"))},5:function(e,t,s){e.exports={item:"style_item__Z1OGb",item__block:"style_item__block__DyB8V",item__block_bottom:"style_item__block_bottom__37nnq",item__header:"style_item__header__32noe",item__num:"style_item__num__3dQVl",item__price:"style_item__price__1u5Bj",item__date:"style_item__date__2mgog"}},6:function(e,t,s){e.exports={root:"style_root__aWb3i",open:"style_open__2ZxQS",modal:"style_modal__38uLz",head:"style_head__1q7_o",btnClose:"style_btnClose__31ler",content:"style_content__3fQmE",date:"style_date__36YjK"}},8:function(e,t,s){e.exports={item:"style_item__WT-yf",item__wrapper:"style_item__wrapper__2WrFS",item__name:"style_item__name__22tQD",item__price:"style_item__price__3cTw0",item__count:"style_item__count__32lFU"}}},[[46,1,2]]]);
//# sourceMappingURL=main.00a40301.chunk.js.map